1. Добавлены проверки на nullptr

2. ReplaceLeft и ReplaceRight: используются shared_from_this(), что гарантирует, что указатель на текущий объект является валидным shared_ptr.

3. В конструкторе используется shared_ptr для управления дочерними узлами.

4. SetParent: родитель будет умным указателем.

5. Fork: чтобы исходный код компилировался пришлось бы сделать конструктор публичным, что позволило бы создавать улы вне класса. Изменения: Метод принимает TNodePtr для левых и правых дочерних узлов, что позволяет работать с shared_ptr. Вместо использования публичного конструктора, Fork() создает новый узел с помощью new Tnode(value).
